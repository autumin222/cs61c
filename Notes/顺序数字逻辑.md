## 数据多路复用器

MUX是一种选择器，将多个输入中的一个输出

通过一个输入S在多个输入中选择，当选择位匹配时，当前输入值被作为输出值

### 1-bit 2-to-1 MUX

由一个s值控制

* 布尔代数：$\overline{s}a + sb$

### 1-bit 4-to-1 MUX

由两个显示位控制: S = S1S0

* 布尔代数：$¬s1
  ¬s0
  a + ¬s1
  s0b + s1
  ¬s0
  c + s1
  s0d$

* 实际上可以通过连续使用两层 2-to-1 MUX代替

## 顺序逻辑时序

* 使用状态元素
  
  放置时间量的地方（寄存器文件，内存）

* 帮助控制组合逻辑块之间的信息流

储存器在**时钟信号边沿处**改变输出值

由于输入信号在边沿采样，必须在时钟边沿的之前和之后一段时间保持有效，分别称为**建立时间**和**保持时间**

## 最大时钟频率

即最小时钟周期的倒数

* 一个时钟周期至少要大于clock-to-q时间 + CL时间 + 建立时间，即最大延迟（假定最大延迟大于保持时间）

* 关键路径即为延迟最大的路径，通常为两个寄存器之间存在最多的CL的路径

### 流水线

提高最大时钟频率

* 将操作细化为更小的部分，并在这些更小的部分之间增加寄存器以减短关键路径

* 会增加第一个任务的时间，但减少后续任务的时间

## 有限状态机（Finite State Machine）

用于表示时序逻辑

* 函数可以通过状态转移表来表示

* 可通过CL和寄存器转化为硬件

### 图表表示

* 状态s——圈

* 初始状态s0——不在状态之间的箭头

* 转移函数——从输入状态指向输出状态的箭头

#### 变化过程

状态的转移是通过时钟信号控制的

* 状态机在每个时钟周期检测输入，并生成新的状态以及输出

* 通过不同的输入在不同状态间转变，并给出不同输出

### 硬件实现

* 使用寄存器表示状态
  
  通过位模式表示不同状态，输出当前状态CS，输入为下个状态NS

* 使用CL表示转移函数

## 函数单元

处理器以此表现出各种操作以及计算

### 算数逻辑单元（ALU）

实现了加减与或等操作

#### 加法器

1-bit加法器通过carry-in和carry-out处理进位

* 输入：carry-in，a，c

* 输出：carry-out， s

多位的加法器通过级联多个1-bit加法器实现

* 级联时，carry-in和carry-out连接，每个1-bit的结果s为一位，最后的结果为这些位的组合

#### 减法

计算最低有效位时加上一个进位，即carry-in为1，同时将所有的*b*都转换为$\overline{b}$，通过补码的方式将b转换为-b

此时 a + $\overline{b}$ + 1 = a  + (-b) = a - b

**但减法可能会出现溢出**
